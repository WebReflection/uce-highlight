!function(){"use strict";const e="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3",t=({nextElementSibling:e})=>!!e&&e.classList.contains("uce-highlight"),n=new Map,i=t=>{let i=n.get(t);i||(i=document.createElement("link"),i.rel="stylesheet",i.href=e+"/styles/"+t+".min.css",n.set(t,i)),n.forEach(e=>{e!==i&&e.parentNode&&e.parentNode.removeChild(e)}),document.head.appendChild(i)},s=e=>{requestAnimationFrame(()=>{requestAnimationFrame(e)})},l=(e,t)=>{e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft},o=(e,{node:n})=>{if(e.multiLine){let i=e.nextElementSibling;if(!t(e)){const t=hljs.listLanguages(),l=n`<select class="hljs uce-highlight" onchange=${({currentTarget:t})=>{e.setAttribute("lang",t.value)}}>${t.map(e=>n`<option value=${e}>${e}</option>`)}</select>`,o=t.indexOf(e.props.lang);l.selectedIndex=o<0?t.indexOf("plaintext"):o,e.parentNode.insertBefore(l,e.nextSibling),i=n`<code></code>`;const{style:h}=i;h.opacity=0,e.editing||s(()=>h.opacity=1),e.parentNode.insertBefore(i,l)}i.className=(e.props.lang||"plaintext")+" uce-highlight",i.innerHTML=e.innerHTML.replace(/<(?:div|p)>/g,"\n").replace(/<[^>]+?>/g,""),window.hljs.highlightBlock(i),l(i,e)}};customElements.whenDefined("uce-lib").then(()=>{const{define:h,html:c}=customElements.get("uce-lib");let a=null;h("uce-highlight",{extends:"code",observedAttributes:["lang","theme"],attributeChanged(e,n,l){"theme"===e&&i(l),t(this)&&s(()=>this.render())},init(){if(!a){t=this.props.theme,a=new Promise(s=>{const l=t||"default";if(window.hljs)[].some.call(document.querySelectorAll("link"),e=>{const{rel:t,href:i}=e;if(/stylesheet/i.test(t)&&/\/highlight\.js\//.test(i))return n.set(l,e),!0});else{i(l);const t=document.createElement("script");t.src=e+"/highlight.min.js",t.onload=s,document.head.appendChild(t)}});const s="uce-highlight";!function(e){const t="string"==typeof e?[e]:[e[0]];for(let n=1,{length:i}=arguments;n<i;n++)t.push(arguments[n],e[n]);const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(t.join(""))),document.head.appendChild(n)}(`*:not(pre)>code[is="${s}"]{display:inline}pre.${s}{position:relative}pre.${s}>.${s}{position:absolute}pre.${s}>code.${s}{top:0;left:0;width:100%;pointer-events:none}pre.${s}>select.${s}{top:1px;right:1px;border:0}code.${s}{transition:opacity .3s}`)}var t;this.classList.add("hljs"),this.multiLine=/^pre$/i.test(this.parentNode.nodeName),this.contentEditable=this.multiLine,this.multiLine&&this.parentNode.classList.add("uce-highlight"),this.render()},onfocus(){this.editing=!0,t(this)&&(this.nextElementSibling.style.opacity=0)},onblur(){this.editing=!1,t(this)&&s(()=>{o(this,c),this.nextElementSibling.style.opacity=1})},onkeydown(e){(e.metaKey||e.ctrlKey)&&83==e.keyCode&&(e.preventDefault(),this.dispatchEvent(new CustomEvent("controlSave",{bubbles:!0})))},onpaste(e){e.preventDefault();const t=(e.clipboardData||clipboardData).getData("text");t.length&&document.execCommand("insertText",null,t)},onscroll(){this.onmousewheel()},onmousewheel(){t(this)&&l(this.nextElementSibling,this)},render(){a.then(()=>{o(this,c)})}})})}();
