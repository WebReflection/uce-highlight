!function(){"use strict";var e=Object.assign;const t="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3",n=e=>{document.head.appendChild(e)},o=(t,n)=>e(document.createElement(t),n),s=new Map,i=e=>{let i=s.get(e);i||s.set(e,i=o("link",{href:`${t}/styles/${e}.min.css`,rel:"stylesheet"})),s.forEach(e=>{e!==i&&e.parentNode&&e.parentNode.removeChild(e)}),n(i)},c=new WeakMap,l=(e,t,n,o)=>`${t?"<br>":""}${n}<span>${o}</span>`;function a(e){const{ownerDocument:t}=this,n=t.getSelection(),o=n.getRangeAt(0),s=t.createTextNode(e);o.deleteContents(),o.insertNode(s),o.selectNode(s),n.removeAllRanges(),n.addRange(o),n.collapseToEnd()}function r(){const{code:e}=c.get(this);e&&(e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft)}customElements.whenDefined("uce-lib").then(()=>{const{define:e,html:h}=customElements.get("uce-lib");let d=null;e("uce-highlight",{extends:"code",observedAttributes:["lang","theme"],attributeChanged(e,t,n){"theme"===e&&i(n),c.get(this).code&&this.render()},init(){if(c.set(this,{editing:!1,code:null}),!d){e=this.props.theme,d=new Promise(c=>{const l=e||"default";window.hljs?([].some.call(document.querySelectorAll("link"),e=>{const{rel:t,href:n}=e;if(/stylesheet/i.test(t)&&/\/highlight\.js\//.test(n))return s.set(l,e),!0}),c()):(i(l),n(o("script",{src:t+"/highlight.min.js",onload:c})))});const c="uce-highlight",l="pre."+c,a="code."+c,r="select."+c,h="overflow:hidden;";!function(e){const t="string"==typeof e?[e]:[e[0]];for(let n=1,{length:o}=arguments;n<o;n++)t.push(arguments[n],e[n]);const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(t.join(""))),document.head.appendChild(n)}(`*:not(pre)>code[is="${c}"]{display:inline}${l}{${h}padding:0;position:relative}`+l+">*{box-sizing:border-box}"+`${l}>code[is="${c}"]{min-height:40px}`+`${l}>.${c}{position:absolute}`+`${l}>${a}{${h}top:0;left:0;width:100%;pointer-events:none}`+`${l}>${a}>span{white-space:nowrap}`+r+"{top:1px;right:1px;border:0}"+r+":not(:focus):not(:hover){opacity:.5}"+`[dir="rtl"] ${r}{left:1px;right:auto}`+`${a},${r}{transition:opacity .3s}`)}var e;const{parentNode:l}=this;(this.contentEditable=/^pre$/i.test(l.nodeName))&&l.classList.add("uce-highlight"),this.classList.add("hljs"),this.render()},onfocus(){const e=c.get(this);e.editing=!0,e.code&&(e.code.style.opacity=0)},onblur(){const e=c.get(this);e.editing=!1,e.code&&this.render()},onkeydown(e){const{metaKey:t,ctrlKey:n,key:o}=e;switch(o.toLowerCase()){case"enter":e.preventDefault(),a.call(this,"\n");break;case"s":(t||n)&&e.preventDefault()}},onpaste(e){e.preventDefault();const t=(e.clipboardData||clipboardData).getData("text");t.length&&a.call(this,t.replace(/\r\n/g,"\n"))},onchange({currentTarget:e}){this.setAttribute("lang",e.value)},onmousewheel(){r.call(this)},onscroll(){r.call(this)},render(){"true"==this.contentEditable&&d.then(()=>{const e=c.get(this),{hljs:t}=window,{lang:n}=this.props;if(!e.code){const{node:o}=h,s=t.listLanguages(),i=o`<select class="hljs uce-highlight" onchange=${this}>${s.map(e=>o`<option value=${e}>${e}</option>`)}</select>`,c=s.indexOf(n);i.selectedIndex=c<0?s.indexOf("plaintext"):c,e.code=o`<code></code>`,e.code.style.opacity=0;const{parentNode:l}=this;l.insertBefore(i,this.nextSibling),l.insertBefore(e.code,i)}const{textContent:o}=this;var s;e.code.className=(n||"plaintext")+" uce-highlight",e.code.textContent=this.textContent=o,t.highlightBlock(e.code),e.code.innerHTML=e.code.innerHTML.replace(/(\r\n|\n)?(\s*)(.+)$/gm,l),r.call(this),e.editing||(s=()=>e.code.style.opacity=1,requestAnimationFrame(()=>{requestAnimationFrame(s)}))})}})})}();
