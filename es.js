!function(){"use strict";const e="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3",t=(e,t)=>{e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft},n=({currentTarget:{style:e}})=>{1!=e.opacity&&(e.opacity=1)},i=({nextElementSibling:e})=>!!e&&e.classList.contains("uce-highlight"),s=new Map,o=t=>{let n=s.get(t);n||(n=document.createElement("link"),n.rel="stylesheet",n.href=e+"/styles/"+t+".min.css",s.set(t,n)),s.forEach(e=>{e!==n&&e.parentNode&&e.parentNode.removeChild(e)}),document.head.appendChild(n)},l=({currentTarget:e})=>{const{style:n}=e;0!=n.opacity&&(t(e.previousSibling,e),e.addEventListener("transitionend",a),n.opacity=0)},r=e=>{requestAnimationFrame(()=>{requestAnimationFrame(e)})},a=({currentTarget:{style:e},propertyName:t})=>{"opacity"===t&&0==e.opacity&&(e.display="none")},c=(e,{node:s})=>{const{classList:o,multiLine:a}=e;if(o.add("hljs"),a){let o=e.nextElementSibling;if(!i(e)){const t=hljs.listLanguages(),i=s`<select class="hljs uce-highlight" onchange=${({currentTarget:t})=>{e.setAttribute("lang",t.value)}}>${t.map(e=>s`<option value=${e}>${e}</option>`)}</select>`,a=t.indexOf(e.props.lang);i.selectedIndex=a<0?t.indexOf("plaintext"):a,e.parentNode.insertBefore(i,e.nextSibling),o=s`<code onmouseover=${l} onmouseout=${n}></code>`;const{style:c}=o;e.editing?c.display="none":(c.opacity=0,r(()=>c.opacity=1)),e.parentNode.insertBefore(o,i)}o.className=(e.props.lang||"plaintext")+" uce-highlight",o.innerHTML=e.innerHTML.replace(/<(?:div|p)>/g,"\n").replace(/<[^>]+?>/g,""),window.hljs.highlightBlock(o),t(o,e)}};customElements.whenDefined("uce-lib").then(()=>{const{define:t,html:n}=customElements.get("uce-lib");let h=null;t("uce-highlight",{extends:"code",observedAttributes:["lang","theme"],attributeChanged(e,t,n){"theme"===e&&o(n),i(this)&&r(()=>this.render())},init(){if(!h){t=this.props.theme,h=new Promise(n=>{const i=t||"default";if(window.hljs)[].some.call(document.querySelectorAll("link"),e=>{const{rel:t,href:n}=e;if(/stylesheet/i.test(t)&&/\/highlight\.js\//.test(n))return s.set(i,e),!0});else{o(i);const t=document.createElement("script");t.src=e+"/highlight.min.js",t.onload=n,document.head.appendChild(t)}});const n="uce-highlight";!function(e){const t="string"==typeof e?[e]:[e[0]];for(let n=1,{length:i}=arguments;n<i;n++)t.push(arguments[n],e[n]);const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(t.join(""))),document.head.appendChild(n)}(`*:not(pre)>code[is="${n}"]{display:inline}pre.${n}{position:relative}pre.${n}>.${n}{position:absolute}pre.${n}>code.${n}{top:0;left:0;width:100%}pre.${n}>select.${n}{top:1px;right:1px;border:0}code.${n}{transition:opacity .3s}`)}var t;this.multiLine=/^pre$/i.test(this.parentNode.nodeName),this.contentEditable=this.multiLine,this.multiLine&&this.parentNode.classList.add("uce-highlight"),this.render()},onfocus(){if(this.editing=!0,i(this)){const e=this.nextElementSibling;"none"!=e.style.display&&l({currentTarget:e})}},onblur(){if(this.editing=!1,i(this)){const{nextElementSibling:e}=this,{style:t}=e;e.removeEventListener("transitionend",a),t.opacity=0,t.display=null,r(()=>{c(this,n),t.opacity=1})}},onkeydown(e){(e.metaKey||e.ctrlKey)&&83==e.keyCode&&(e.preventDefault(),this.dispatchEvent(new CustomEvent("controlSave",{bubbles:!0})))},onmouseout(){this.onpointerout()},onpointerout(){this.editing||this.onblur()},onpaste(e){e.preventDefault();const t=(e.clipboardData||clipboardData).getData("text");t.length&&document.execCommand("insertText",null,t)},render(){h.then(()=>{c(this,n)})}})})}();
